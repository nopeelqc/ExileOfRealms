<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Explosion Effect</title>
  <style>
    #explosion {
      width: 192px;
      height: 192px;
      background: url('Explosions.png') left center;
      background-size: 1728px 192px;
      image-rendering: pixelated;
      display: none;
      position: absolute;
      pointer-events: none;
    }
  </style>
</head>
<body>

<button onclick="startExplosion(100, 100)">Nổ ở (100, 100)</button>
<div id="explosion"></div>

<script>
  const explosion = document.getElementById('explosion');
  const totalFrames = 9;
  const frameWidth = 192;
  const frameDelay = 80; // ms

  function startExplosion(x = 0, y = 0) {
    let frame = 0;

    // Đặt vị trí và reset
    explosion.style.left = x + 'px';
    explosion.style.top = y + 'px';
    explosion.style.display = 'block';
    explosion.style.backgroundPosition = `0px center`;

    // Bắt đầu animation
    const interval = setInterval(() => {
      explosion.style.backgroundPosition = `-${frame * frameWidth}px center`;
      frame++;

      if (frame >= totalFrames) {
        clearInterval(interval);
        explosion.style.display = 'none';
      }
    }, frameDelay);
  }
</script>

</body>
</html>
